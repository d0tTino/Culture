# Culture.ai - Introductory Report for New Dev Lead\n\nWelcome to the Culture.ai project! This report provides a high-level overview to help you get started.\n\n## Project Overview\n\nCulture.ai is an AI Genesis Engine designed to simulate multi-agent interactions within a social environment. Autonomous agents, equipped with distinct roles (Innovator, Analyzer, Facilitator), communicate, collaborate, and evolve. The project leverages a modular architecture with a strong emphasis on agent memory and configurable behaviors.\n\n## Current State\n\nThe codebase recently underwent a significant cleanup to reduce file count and improve organization. The total file count is now well under 1,000 files, down from ~53,000. Key cleanup actions included removing redundant virtual environments, archiving test data and benchmarks, and implementing stricter `.gitignore` rules.\n\n## Key Architectural Concepts\n\n(Based on `docs/architecture.md`)\n\n*   **Modularity:** Components have clear boundaries (Agent Core, Memory, Decision Logic, Infrastructure, Simulation Environment, Interfaces).\n*   **Agent Core (`src/agents/core/`):**\n    *   `AgentState`: Central data structure for agent identity, role, mood, relationships, and resources (Influence Points, Data Units).\n    *   `BaseAgent`: Foundational class for agent properties and state manipulation.\n    *   `Roles`: Defines agent roles (Innovator, Analyzer, Facilitator) and their behaviors.\n*   **Agent Memory System (`src/agents/memory/`):**\n    *   `ChromaVectorStoreManager`: Manages vector storage (ChromaDB) for agent memories, enabling semantic search and metadata filtering.\n    *   **Hierarchical Memory:**\n        *   **L1 Summaries:** Short-term, step/session-level summaries.\n        *   **L2 Summaries:** Long-term, chapter-level summaries synthesized from L1s.\n    *   **Memory Utility Score (MUS):** Quantifies memory importance for intelligent pruning (RFS + RS + RecS).\n    *   **Lifecycle:** Creation -> Storage -> Retrieval (RAG) -> Consolidation (L1, L2) -> Pruning (Age & MUS-based).\n*   **Agent Decision Logic (`src/agents/graphs/basic_agent_graph.py`):\**\n    *   Uses **LangGraph** to model turn-based reasoning.\n    *   Key nodes: sentiment analysis, relationship prompt preparation, memory retrieval & summarization, thought/message generation, action intent handlers, and state updates.\n*   **DSPy Programs (`src/agents/dspy_programs/`):**\n    *   Implements optimized prompting strategies using the DSPy framework for tasks like L1/L2 summary generation.\n*   **Infrastructure (`src/infra/`):**\n    *   `config.py`: Centralized configuration management (see `docs/configuration_system.md`).\n    *   `llm_client.py`: Unified interface for LLM interactions.\n    *   `dspy_ollama_integration.py`: DSPy integration with Ollama.\n*   **Simulation Environment (`src/sim/`):**\n    *   `Simulation`: Manages agent population, turn loop, message routing.\n    *   `KnowledgeBoard`: Shared space for information exchange.\n    *   Project System: Manages collaborative projects.\n\n## Getting Started & Key Files\n\n*   **Project Structure (Top-Level):**\n    *   `src/`: Main source code.\n        *   `agents/`: Core agent logic, memory, graphs, DSPy programs.\n        *   `infra/`: Configuration, LLM clients, other core services.\n        *   `sim/`: Simulation environment, knowledge board.\n    *   `docs/`: Contains all project documentation.\n    *   `scripts/`: Utility and maintenance scripts (e.g., `lint.sh`, `lint.bat`).\n    *   `tests/`: (Currently minimal after cleanup, structure preserved with `__init__.py` files). Test files are archived in `archives/tests.zip`.\n    *   `archives/`: Contains zipped versions of `benchmarks`, `experiments`, and `tests`.\n*   **Configuration (`docs/configuration_system.md`, `src/infra/config.py`, `.env.example`):**\n    *   Settings are loaded from environment variables, `.env` file, and defaults in `src/infra/config.py`.\n    *   Covers logging, API keys, LLM settings, Redis, Discord, memory pruning, agent economy (IP/DU), etc.\n*   **Coding Standards (`docs/coding_standards.md`):**\n    *   Formatting: Max line length 99 (80 for docs/comments), 4-space indents, specific import order, Google-style docstrings.\n    *   Naming: `snake_case` for functions/variables, `PascalCase` for classes.\n    *   Type Hinting: Mandatory for function signatures.\n    *   Error Handling: Specific exceptions, `logging` module over `print`.\n    *   Testing: `unittest` or compatible, `test_{feature}_{scenario}` naming.\n    *   Version Control: Conventional Commits, `feature/description` or `fix/description` branches.\n*   **Tooling (`pyproject.toml`, `.flake8`, `requirements-dev.txt`):\n    *   Formatting: Black, isort.\n    *   Linting: Flake8, Mypy.\n    *   Testing: Pytest, pytest-cov.\n    *   Key Dependencies: `chromadb`, `sentence-transformers`, `dspy`, `langgraph`, `ollama`.\n*   **Code Review Process (`docs/code_review_process.md`):\n    *   Focuses on correctness, readability, standards adherence, test coverage, security, performance, and design.\n    *   Defines author and reviewer responsibilities.\n\n## Recent Major Changes\n\n*   **Codebase Cleanup:** As detailed in `CLEANUP_SUMMARY.md` and `README_cleanup.md`, the project recently underwent a massive file reduction. Many test files, virtual environments, and benchmark data have been removed or archived.\n    *   The `tests/` directory now contains a minimal structure. Full test suites are in `archives/tests.zip`.\n    *   `benchmarks/` and `experiments/` directories are also archived in `archives/`.\n\n## Areas to Focus On Initially\n\n1.  **Architecture (`docs/architecture.md`):** Understand the component interactions and data flow.\n2.  **Agent State & Decision Logic (`src/agents/core/agent_state.py`, `src/agents/graphs/basic_agent_graph.py`):** These are central to agent behavior.\n3.  **Memory System (`src/agents/memory/vector_store.py`, `docs/hierarchical_memory_README.md`):** Crucial for agent learning and context.\n4.  **Configuration (`src/infra/config.py`, `.env.example`):** See how various parameters control the simulation.\n5.  **Coding Standards & Linting (`docs/coding_standards.md`, `scripts/lint.sh` or `lint.bat`):** Familiarize yourself with the development workflow.\n\nWe're excited to have you on board! Please don't hesitate to ask any questions. 